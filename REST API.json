{"openapi":"3.0.1","info":{"title":"REST API documentation","description":"Restaurant Voting Application","contact":{"name":"Alexander Babich","email":"albabich@gmail.com"},"version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"basicAuth":[]}],"paths":{"/api/profile":{"get":{"tags":["profile-controller"],"operationId":"get","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"put":{"tags":["profile-controller"],"operationId":"update","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTo"}}},"required":true},"responses":{"204":{"description":"No Content"}}},"post":{"tags":["profile-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTo"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"delete":{"tags":["profile-controller"],"operationId":"delete","responses":{"204":{"description":"No Content"}}}},"/api/admin/users/{id}":{"get":{"tags":["admin-user-controller"],"operationId":"get_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"put":{"tags":["admin-user-controller"],"operationId":"update_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"204":{"description":"No Content"}}},"delete":{"tags":["admin-user-controller"],"operationId":"delete_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"204":{"description":"No Content"}}},"patch":{"tags":["admin-user-controller"],"operationId":"enable","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"enabled","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"204":{"description":"No Content"}}}},"/api/admin/restaurants/{restaurantId}/menu-items/{id}":{"get":{"tags":["admin-menu-item-controller"],"operationId":"get_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"restaurantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuItemTo"}}}}}},"put":{"tags":["admin-menu-item-controller"],"operationId":"update_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"restaurantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuItemTo"}}},"required":true},"responses":{"204":{"description":"No Content"}}},"delete":{"tags":["admin-menu-item-controller"],"operationId":"delete_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"restaurantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"204":{"description":"No Content"}}}},"/api/admin/restaurants/{id}":{"get":{"tags":["admin-restaurant-controller"],"operationId":"get_3","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Restaurant"}}}}}},"put":{"tags":["admin-restaurant-controller"],"operationId":"update_3","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Restaurant"}}},"required":true},"responses":{"204":{"description":"No Content"}}},"delete":{"tags":["admin-restaurant-controller"],"operationId":"delete_3","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"204":{"description":"No Content"}}}},"/api/profile/votes":{"post":{"tags":["profile-vote-controller"],"operationId":"createWithLocation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoteTo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Vote"}}}}}}},"/api/admin/users":{"get":{"tags":["admin-user-controller"],"operationId":"getAll","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}},"post":{"tags":["admin-user-controller"],"operationId":"createWithLocation_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/admin/restaurants":{"get":{"tags":["admin-restaurant-controller"],"operationId":"getAll_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Restaurant"}}}}}}},"post":{"tags":["admin-restaurant-controller"],"operationId":"createWithLocation_2","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Restaurant"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Restaurant"}}}}}}},"/api/admin/restaurants/{restaurantId}/menu-items":{"post":{"tags":["admin-menu-item-controller"],"operationId":"createWithLocation_3","parameters":[{"name":"restaurantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuItemTo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuItemTo"}}}}}}},"/api/restaurants/with-votes/today":{"get":{"tags":["restaurant-controller"],"operationId":"getAllWithVotesToday","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RestaurantWithVotesTo"}}}}}}}},"/api/restaurants/with-menu/today":{"get":{"tags":["restaurant-controller"],"operationId":"getAllWithMenuItemsToday","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RestaurantWithMenuTo"}}}}}}}},"/api/admin/users/by":{"get":{"tags":["admin-user-controller"],"operationId":"getByEmail","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/admin/restaurants/{restaurantId}/menu-items/today":{"get":{"tags":["admin-menu-item-controller"],"operationId":"getAllForRestaurantToday","parameters":[{"name":"restaurantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MenuItemTo"}}}}}}}}},"components":{"schemas":{"UserTo":{"required":["email","name","password"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"maxLength":100,"minLength":2,"type":"string"},"email":{"maxLength":100,"minLength":0,"type":"string"},"password":{"maxLength":32,"minLength":5,"type":"string"}}},"MenuItem":{"required":["date","name","price"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"maxLength":100,"minLength":2,"type":"string"},"restaurant":{"$ref":"#/components/schemas/Restaurant"},"date":{"type":"string","format":"date"},"price":{"type":"integer","format":"int32"}}},"Restaurant":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"maxLength":100,"minLength":2,"type":"string"},"menuItems":{"type":"array","items":{"$ref":"#/components/schemas/MenuItem"}},"votes":{"type":"array","items":{"$ref":"#/components/schemas/Vote"}}}},"User":{"required":["email","name","password","registered"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"maxLength":100,"minLength":2,"type":"string"},"email":{"maxLength":100,"minLength":0,"type":"string"},"password":{"maxLength":100,"minLength":5,"type":"string","writeOnly":true},"enabled":{"type":"boolean"},"registered":{"type":"string","format":"date-time","readOnly":true},"roles":{"uniqueItems":true,"type":"array","items":{"type":"string","enum":["USER","ADMIN"]}},"votes":{"type":"array","items":{"$ref":"#/components/schemas/Vote"}}}},"Vote":{"required":["date"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"user":{"$ref":"#/components/schemas/User"},"date":{"type":"string","format":"date"},"restaurant":{"$ref":"#/components/schemas/Restaurant"}}},"MenuItemTo":{"required":["name","price"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"maxLength":100,"minLength":2,"type":"string"},"price":{"type":"number","format":"double"},"localDate":{"type":"string","format":"date"}}},"VoteTo":{"required":["restaurantId"],"type":"object","properties":{"restaurantId":{"type":"integer","format":"int32"}}},"RestaurantWithVotesTo":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"maxLength":100,"minLength":2,"type":"string"},"voteCounter":{"type":"integer","format":"int32"}}},"RestaurantWithMenuTo":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"maxLength":100,"minLength":2,"type":"string"},"menuItems":{"type":"array","items":{"$ref":"#/components/schemas/MenuItemTo"}}}}},"securitySchemes":{"basicAuth":{"type":"http","scheme":"basic"}}}}